{% extends "base.html" %}

{% block content %}

<!-- index.html content starts here -->

<main>
  <section>

    <div id="heading-area">
      <span id="read-notes"><a href="{% url 'home' %}" class="heading-section">Pick</a></span>
      <!-- <span id="write-notes"><a href="" class="heading-section">Write</a></span> -->
    </div>

    <!-- Filter dropdown -->
    <div id="notes-filter">
      <div id="myDropdown" class="dropdown-content">
        <span>Select a mood:</span>
        <form method="get" action="{% url 'home' %}">
          <select name="category" id="themeSelector" onchange="this.form.submit()">
            <option value="0" {% if request.GET.category == "0" or not request.GET.category %}selected{% endif %}>All</option>
            <option value="1" {% if request.GET.category == "1" %}selected{% endif %}>Stress</option>
            <option value="2" {% if request.GET.category == "2" %}selected{% endif %}>Depression</option>
            <option value="3" {% if request.GET.category == "3" %}selected{% endif %}>Anxiety</option>
          </select>
        </form>
      </div>
    </div>

    <p class="slogan">Daily affirmations for your inner peace</p>

    <!-- Container for sticky notes -->
    <div id="notes-container" class="notes-container">
      {% if notes_list %}
        <!-- Loop through notes and display them -->
        {% for note in notes_list %}
          <!-- Display each note as a sticky note -->
          <div class="sticky-note theme-{{ note.category }}">
            <p>{{ note.content }}</p>
            <small>â€” {{ note.name }}, {{ note.created_on|date:"M d, Y" }}</small>
          </div>
        {% endfor %}
      {% else %}
        <p id="emptyMessage">No affirmations yet. Add some to get started!</p>
      {% endif %}
    </div>

    <!-- Controls below notes -->
    <div class="controls">
      <!-- You can add your JS buttons or Django pagination here -->
      <button id="backAffirmation">One Sec</button>
      <button id="addAffirmation">One More</button>
    </div>
  </section>
</main>


<!-- index.html content ends here -->
{% endblock %}